{"ast":null,"code":"// src/services/authService.js\n\n// Configuration du timeout (en minutes)\nconst INACTIVITY_TIMEOUT = 30; // 30 minutes\n\n// Variables locales pour stocker les timers\nlet inactivityTimer = null;\nlet tokenExpiryTimer = null;\nconst authService = {\n  login: (userData, token) => {\n    sessionStorage.setItem('user', JSON.stringify(userData));\n    sessionStorage.setItem('token', token);\n  },\n  logout: () => {\n    sessionStorage.removeItem('user');\n    sessionStorage.removeItem('token');\n  },\n  isAuthenticated: () => {\n    const token = sessionStorage.getItem('token');\n    return !!token;\n  },\n  getToken: () => {\n    return sessionStorage.getItem('token');\n  },\n  getUser: () => {\n    const userStr = sessionStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  }\n};\nexport default authService;","map":{"version":3,"names":["INACTIVITY_TIMEOUT","inactivityTimer","tokenExpiryTimer","authService","login","userData","token","sessionStorage","setItem","JSON","stringify","logout","removeItem","isAuthenticated","getItem","getToken","getUser","userStr","parse"],"sources":["/home/derfm53/save-agri/save-agri-frontend/src/services/authService.js"],"sourcesContent":["// src/services/authService.js\n\n// Configuration du timeout (en minutes)\nconst INACTIVITY_TIMEOUT = 30; // 30 minutes\n\n// Variables locales pour stocker les timers\nlet inactivityTimer = null;\nlet tokenExpiryTimer = null;\n\nconst authService = {\n  login: (userData, token) => {\n    sessionStorage.setItem('user', JSON.stringify(userData));\n    sessionStorage.setItem('token', token);\n  },\n\n  logout: () => {\n    sessionStorage.removeItem('user');\n    sessionStorage.removeItem('token');\n  },\n\n  isAuthenticated: () => {\n    const token = sessionStorage.getItem('token');\n    return !!token;\n  },\n\n  getToken: () => {\n    return sessionStorage.getItem('token');\n  },\n\n  getUser: () => {\n    const userStr = sessionStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  }\n};\n\nexport default authService;"],"mappings":"AAAA;;AAEA;AACA,MAAMA,kBAAkB,GAAG,EAAE,CAAC,CAAC;;AAE/B;AACA,IAAIC,eAAe,GAAG,IAAI;AAC1B,IAAIC,gBAAgB,GAAG,IAAI;AAE3B,MAAMC,WAAW,GAAG;EAClBC,KAAK,EAAEA,CAACC,QAAQ,EAAEC,KAAK,KAAK;IAC1BC,cAAc,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC,CAAC;IACxDE,cAAc,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;EACxC,CAAC;EAEDK,MAAM,EAAEA,CAAA,KAAM;IACZJ,cAAc,CAACK,UAAU,CAAC,MAAM,CAAC;IACjCL,cAAc,CAACK,UAAU,CAAC,OAAO,CAAC;EACpC,CAAC;EAEDC,eAAe,EAAEA,CAAA,KAAM;IACrB,MAAMP,KAAK,GAAGC,cAAc,CAACO,OAAO,CAAC,OAAO,CAAC;IAC7C,OAAO,CAAC,CAACR,KAAK;EAChB,CAAC;EAEDS,QAAQ,EAAEA,CAAA,KAAM;IACd,OAAOR,cAAc,CAACO,OAAO,CAAC,OAAO,CAAC;EACxC,CAAC;EAEDE,OAAO,EAAEA,CAAA,KAAM;IACb,MAAMC,OAAO,GAAGV,cAAc,CAACO,OAAO,CAAC,MAAM,CAAC;IAC9C,OAAOG,OAAO,GAAGR,IAAI,CAACS,KAAK,CAACD,OAAO,CAAC,GAAG,IAAI;EAC7C;AACF,CAAC;AAED,eAAed,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}